<div id="votingSection" class="{% if room.currentState != 'voting' %}hidden{% endif %}">
    <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-purple-400">Time to Vote!</h2>
            <span class="px-4 py-2 bg-gray-900/50 rounded-full text-gray-400 text-sm">
                            Secret #<span id="currentVoteNumber">{{ room.currentVotingSecretIndex + 1 }}</span> of <span id="totalVotes">{{ room.secrets|length }}</span>
                        </span>
        </div>

        <div id="votingProgressBarContainer" class="w-full bg-gray-700/50 rounded-full h-2 mb-8">
            <div id="votingProgressBar"
                 class="bg-purple-500 h-2 rounded-full transition-all duration-1000"
                 style="width: 100%">
            </div>
        </div>

        <div class="bg-gray-900/50 rounded-lg p-6 mb-8 border border-gray-700/50">
            <p id="secretContent" class="text-xl text-center leading-relaxed">
                {{ room.currentVotingSecret ? room.currentVotingSecret.content : 'Loading...' }}
            </p>
        </div>

        <div id="votingButtons" class="flex justify-center gap-4">
            <button id="votePositive"
                    class="flex-1 max-w-xs px-6 py-4 bg-gradient-to-br from-green-600 to-emerald-600 rounded-lg flex items-center justify-center gap-3
                           hover:from-green-500 hover:to-emerald-500 transform hover:scale-105 transition-all
                           disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
                    {% if room.currentVotingSecret and (room.currentVotingSecret.votes|filter(v => v.user == app.user)|length > 0 or room.currentVotingSecret.user == app.user) %}disabled{% endif %}>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
                </svg>
                <span class="font-medium">That's a Good One!</span>
            </button>

            <button id="voteNegative"
                    class="flex-1 max-w-xs px-6 py-4 bg-gradient-to-br from-red-600 to-rose-600 rounded-lg flex items-center justify-center gap-3
                                       hover:from-red-500 hover:to-rose-500 transform hover:scale-105 transition-all
                                       disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"
                    {% if room.currentVotingSecret and (room.currentVotingSecret.votes|filter(v => v.user == app.user)|length > 0 or room.currentVotingSecret.user == app.user) %}disabled{% endif %}>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018c.163 0 .326.02.485.06L17 4m-7 10v2a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5 6h2a2 2 0 002-2v-6a2 2 0 00-2-2h-2.5"/>
                </svg>
                <span class="font-medium">Not So Great</span>
            </button>
        </div>

        <div class="text-center text-gray-400 mt-4 text-sm">
            Choose wisely - votes cannot be changed!
        </div>
    </div>
</div>